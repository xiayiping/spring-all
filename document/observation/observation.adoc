





[source,shell]
----
## intellij startup : add vm option:
JAVA_TOOL_OPTIONS="-javaagent:opentelemetry-javaagent.jar"; OTEL_TRACES_EXPORTER=otlp; OTEL_METRICS_EXPORTER=otlp; OTEL_LOGS_EXPORTER=; OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:5555;

----

[source,shell]
----
## command line startup export options:

export JAVA_TOOL_OPTIONS=""

export JAVA_TOOL_OPTIONS="-javaagent:/d/develop/spring-all/opentelemetry-javaagent.jar" \
    OTEL_TRACES_EXPORTER=logging  \
    OTEL_METRICS_EXPORTER=logging \
    OTEL_LOGS_EXPORTER=logging


export JAVA_TOOL_OPTIONS="-javaagent:/d/develop/spring-all/opentelemetry-javaagent.jar" \
    OTEL_TRACES_EXPORTER=otlp  \
    OTEL_METRICS_EXPORTER=otlp \
    OTEL_LOGS_EXPORTER=logging \
    OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:5555


----


https://grafana.com/blog/2022/05/04/how-to-capture-spring-boot-metrics-with-the-opentelemetry-java-instrumentation-agent/

as per the doc, after setup the otel mid-layer:

[quote]
The Prometheus endpoint of the application is no longer involved. You can now remove the Prometheus endpoint configuration in application.properties and remove the micrometer-registry-prometheus dependency from pom.xml.


[source,shell]
----
netstat -ano
netsh interface ipv4 show excludedportrange protocol=tcp
netsh interface ipv4 delete excludedportrange startport=3093 numberofports=100 protocol=tcp

net stop winnat
net start winnat
----
